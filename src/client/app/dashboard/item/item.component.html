<div *ngIf="item" class="container-fluid">
  <h2>{{create? 'Create Item': 'Modify Item'}}</h2>
  <form (ngSubmit)="onSubmit()" #itemForm="ngForm">
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label for="name">Name</label>
          <input type="text" class="form-control" id="name"
                 required
                 [(ngModel)]="item.name" name="name"
                 #name="ngModel">
        </div>
        <div class="form-group">
          <label for="name">Description</label>
          <input type="text" class="form-control" id="description"
                 [(ngModel)]="item.description" name="description"
                 #description="ngModel">
        </div>
      </div>
      <div class="col-md-6">
        <div class="row">
          <div>
            <table class="table table-sm td-size-table">
              <thead>
              <tr>
                <th>Size</th>
                <th>Price</th>
                <th></th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let size of item.sizes">
                <td>{{size.name}}</td>
                <td>{{size.price | currency:'USD':true:'1.2-2'}}</td>
                <td><button class="fa fa-remove icon-remove icon-align" (click)="removeSize(size)"></button></td>
              </tr>
              <tr class="td-size-input">
                <td><input class="form-control" type="text" [(ngModel)]="size.name" name="sizeName"
                           placeholder="Size Name">
                </td>
                <td>
                  <div class="input-group"><span class="input-group-addon">$</span>
                    <input class="form-control" #price="ngModel" id="price" [(ngModel)]="size.price" name="price" type="number">
                  </div>
                </td>
                <td><button class="fa fa-plus icon-add icon-align" [disabled]="!size.name" (click)="addSize()"></button></td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="row" [hidden]="item.sizes != 0">
          <p class="fa fa-exclamation text-info"> At least one size is required
        </div>
      </div>
    </div>
    <div class="row" style="margin-bottom: 2px">
      <div class="col-lg-6">
        <div [hidden]="name.valid || name.pristine"
             class="alert alert-danger">
          Name is required
        </div>
      </div>
      <div class="col-lg-12">
        <button type="submit" class="btn btn-primary" [disabled]="!itemForm.form.valid || item.sizes.length == 0">{{create? 'Create' : 'Save Changes'}}</button>
        <button *ngIf="!create" type="btn btn-danger" class="btn btn-danger" (click)="deleteItem()">Delete</button>
      </div>
    </div>

  </form>
</div>
